<views:MvxWindow 
    xmlns:views="clr-namespace:MvvmCross.Platforms.Wpf.Views;assembly=MvvmCross.Platforms.Wpf"
    x:Class="WpfUniversity.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
        xmlns:model="clr-namespace:UniversityDataLayer.Entities;assembly=UniversityDataLayer"
    xmlns:local="clr-namespace:WpfUniversity.Helpers"
    xmlns:courses="clr-namespace:WpfUniversity.ViewModels.Courses" d:DataContext="{d:DesignInstance Type=courses:CourseViewModel}"
    mc:Ignorable="d" FontSize="22"
        Title="Courses" Height="600" Width="800">
    <Grid>
        <TreeView HorizontalAlignment="Left"  x:Name="coursesTree" Width="364" ItemsSource="{Binding Courses}"
                  local:Attached.TreeViewSelectedItem="{Binding SelectedCourse, Mode=TwoWay}">
        <TreeView.Resources>
                <HierarchicalDataTemplate DataType="{x:Type model:Course}" ItemsSource="{Binding Groups}">
                    <TextBlock Text="{Binding Name}"/>
                </HierarchicalDataTemplate>
                <HierarchicalDataTemplate DataType="{x:Type model:Group}" ItemsSource="{Binding Students}">
                    <TextBlock Text="{Binding Name}" />
                </HierarchicalDataTemplate>
                <HierarchicalDataTemplate DataType="{x:Type model:Student}">
                    <TextBlock Text="{Binding FullName}"/>
                </HierarchicalDataTemplate>
            </TreeView.Resources>
        </TreeView>
        <StackPanel HorizontalAlignment="Right" VerticalAlignment="Top" Width="400"   DataContext="{Binding SelectedCourse}">
            <TextBlock Text="Selected course:"/>
            <TextBox Text="{Binding Name, UpdateSourceTrigger=PropertyChanged}" />
            <TextBlock Text="Description:" />
            <TextBox Text="{Binding Description, UpdateSourceTrigger=PropertyChanged}" />
        </StackPanel>
        <StackPanel HorizontalAlignment="Right" VerticalAlignment="Bottom" Width="400"  >
            <Button x:Name="addCourse" Margin="5" Padding="15 10" HorizontalAlignment="Left"  Width="180">Add Course</Button>
            <Button x:Name="editCourse" Margin="5" Padding="15 10" HorizontalAlignment="Left"  Width="180">Edit Course</Button>
            <Button x:Name="deleteCourse" Margin="5" Padding="15 10" HorizontalAlignment="Left"  Width="180">Delete Course</Button>
        </StackPanel>

    </Grid>

</views:MvxWindow>
